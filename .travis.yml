language: java
jdk: oraclejdk8
branches: 
only:
- master
cache:
  directories:
  - "$HOME/.m2"
before_install:
 - mkdir -p "$TRAVIS_BUILD_DIR/go"
 - sudo apt-get update
 - sudo apt-get install golang
 - go get -u github.com/golang/protobuf/{proto,protoc-gen-go}
after_success:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc -out $GPG_DIR/secring.gpg -d
- "$GPG_DIR/publish.sh"
env:
  global:
  - GOPATH="$TRAVIS_BUILD_DIR/go"
  - PATH="$TRAVIS_BUILD_DIR/go/bin:$PATH"
  - GPG_DIR="`pwd`/deploy"
  - secure: QKC5qDhitHKFrrlVHxVLDgwFV2RtAT44s3hgmdp5AhFPyi7TNCFGVQs1SllA+mQRhJVw2GjY4pGKPbN8Pi8JZKWtFFZtK4VHz4/hnCPAUGH7ZBJg/yAknSiffeIy8obrs9JEDahqAxPy6ulULOTe38nSD38wCcqKeO3vp/zkKzCUVLCcgaSw8ivpZB0Egi34cgKfwIORxYL+Bt/aKdBnYUSi0/C5Of9gCHW7Z4ommMcZfDUk76ArRHhPteRQJofqrZ6ujA4FrnC2ZI20Pkq4ZiLn1X8RVSIBE5veDbhpHxkLGKRtJZwJNLp3Y0XG8veXyOzRSQgronjFXv9nyF+jjTpNrfoIaPrVdz0qe8rqQf11L+YMzTPDzpthbvWHuEHuD2TjTm/d+3QUQdDS2oi5Xp9e6KxVG1aQFzoh6yrF6btkkNzENtL89KHnOetsYNUmuECJJbbWpwqqjYPI/ECrPwJCDRSnn/N4tvoTyKaWUDyvXUKHapAwweuPNML2Ai36A9prCnpGohZT6dakuEnWDmireZw7C2AQ8GfrCX0YAOJlJET6krbGHXNNS+cRh0Mz8koiidesvd/fP6xu0Ym++YtKGbWUjDlu5nqCPwuBREXCPg/eWICl8jsNDqKEH2H7xtljxaLtLVhQLOjutzcTzpKtIA8gQ9W3How9nAvN06w=
  - secure: saR3eAnVQbAzvl/1t4qLlEmaSi3dW0gYr7CUld0guVuMDE3aX4Mnivm7s93G5bVy/Ukcql29Jio7CLfGmkYGihoFYF8TRIVLjgrdPYlTbOufhIKbpooCjNGR6SvE5zIxOfVF+MN9SDxDearKPuZaKYGtuBERx9gZba49HKyACz7ne65qUrOiNeefRTQ9GP9kiSp+lmfPaIq90RW8wkFNpzHT7pDOreuFQ1DiS/yEV3J4y7frrFg0VByPisAZ/E9ZNB1xyVHxoUW6O5+bpLTCHiQ0Bz32WPaWGXJCcb+CDgIvO6EEibDQ2ICjQ1T1NUdvHyL0K1ykw54oXV6kPTkKIzpMf6+PSt8Pk558czRSZuvCLNbST1IrrJwaZb/ed6V//HgcdqrPZIpJO5X6vYfBDuSDyt2OG93hJio6TBm3Y3KOy13XwYjmGNIEYnfbTpQA5XAehcH1JVuMJPCctC5Zd0t4gaVz3Ljqd3xIXYHNX6dAyZeOPP/OeU+iX9Tjxy32nyHGWXigaRtUxXJCx81bnDGeUSPlrAqiRExhRNA9PIUMKwJRLMFT9DmnWIHvHSLw4vlDWUjsJlJMHEMn0qFkZYLRA2NluM6V3NIbs9XnB/1RaJQeeYDEortns0LpY7auiO9mGGUDVkJKfh2fpRuaNDJkaOLjILDojeLFq3bZ8sQ=
  - secure: CMTbHypM2LWOQUTV0/ST6YZRiqv0SWxNfB+REA23COvGTyyxZLX6UtlPqRaez8S00FzrNrS5KKtvV4pKB06BkOWLxejx+p74UP7wW3HXplf1LG882MaVN12MRtEq2grgveLthtrmYjv0JOYip9YkEFe/o5hS1ZFGPd1vwXpxvCxNLUWIeZ+ob5yO6fwbyX2QyhDxF4YLvS2UUl3RGClqi6E9LOSPmQi0VMwUCiEvuEqOHHTXnGO1puRuGXCuqSRJf2mxD9BLk0Xgaxn15zxfChm9uAT6K5EFDB0nZjRU1h5X+Xg1zhxDK4Ls+XcUUQEcJpw9Gt+JusAnd+k9IgEdc4UUzTpTLiHjxhd3j+u2IziA05d7ol8VsFrToB+3BCXD7HebhdveUNNOY5Cr+0KndGW24ZQxBoqnJKlObPbr31Djl8YMzwVag07DEOZ8fH6ox1BUhcwL0zxbasgjccCJBgYxxax7MPjLxrC18Q0fuJYk+uXWeBMYVhVX3J8/f5oASrmHryePQVOtIa0enpgl+qO83jjxg1pxubpjttD/t1VRScEZS+pgYWdQjw98avfQZeziQYVzgYdETTuOKIWjFEoudJEdZWB9ufGIkc2XT9tMCbPBuouOWLfbKXBBLYDLGgqaX//W9rT10TCMi15E9zz5awHrBhwkRKtEtleDZTM=
  - secure: lfNOBnNT6LAgwjIJXbY8ZpG+WbG1D5VVTtc0jdhpxKAZ1eamlcmp3DEW9+Vwp4JuqoUBNfiU86V9IvzTBtlm6VZITgw8poVHAlgStAa//3dnQVHpveAX5SFolCjOylRwd13QMqo9T3aPwKapgI/OnKFRCbDF32W+fQJaG4d5CdparJXvRv7EDs4gaCj0f2a2elcf+Momb5uGhh+tPV3W+Yh3sY+J2kfF7QYHCrCo3wxwVxX3E4DjKqVuWdg2674SGGl89FcfAqYx/qryQpBjvg5oNQ5gxKF8CLWQ4YTATIMmg+/nzd4OnJlqdxlA+rhfzOX/ZLFO22OtFQ6cVLhOIKINg2z6AlXGAqvqfFwSpip/h9NCw9yR/5PFM2CTSmhDxjaxIB3Cz0Xv+EGO39KRJw4RVShIkdKQikAbArSUxTfq2DlPxrGJ1JGYALFKx/sdgrQMujesxbxlxI3D6FXngyIXZdKhUAeH0oW+BacqV3I/sFabY6vAMDZXaF2FbStf3cBrQmABNsq261qbUDWMHTkzhD4V7fUcZypfyeYeBvEtIFFPCB9vhkIh9AjLEq0PufTypljquIzEgkkfb4ftBWj9lR4xj4XAOqx4j+LSWJ5nCWaPNlvg0/7cm8ETPbz9BfBWVgmG2fGZMmUutZdzIHIM2Pjh4t5Od3JkYaABB9Y=
  - secure: wQrYmBLwExcEEVa5MmqtPS8QdnUOLEmCruYLXSHjWKA4JQHUecydtXBqUQ25IrVMgxjTBajX5csKA5zbRvvIG4DXqQrAuRp8k9TniY1xsmrWO/3Kd2ksjTQZKRStFiEyK/C1VryUzYaoSEFHUhYLa5uq6Pp8SG/qTxwmzMM8L70QMRtzx4mUsIx84sSj2Z5wpES65rDdYA75gYmAf+ZgTNksEzS3/siLblKgcqaWWI8kagSt2FlCmQiKOYOc19iA0i2KyESnZYnhWv+VOYvaxtMSRvNNGXGQsgtGRA4ibOCi7p+wXLoEPyMrWHC9ct4i4FpxECsIQOU0g5XKkU4r7cl5T+vP2vYocaE7rabb8Gyplsjo94fTa5EHBVKezWmOvEUyDrGn+828EYSgeSqmc+EynDhqd30v4yR5M8oAOU3qUJU4/tfpvTCuTsJu3x8vyaUPJ9VxLJoT9hR0IdbNTeF6O5tykCcxyZDGGCnJdIfhIllazw1PuLy8BAkN5iIxVCxZJ63rfj6WRHGF3KqIeZ6QYclvIp6hqcIRKrAowrCRHKAEwDwxBMbrmSned4KTVkr6VdoLSD9WViOqq5JaJQojkrFpdgEPqfCHY5ZWdsvrUPP+ftlcklpXqtFGXuUMKx4/KG0OqTgmDOd7CmG/e6ICpFPIfBE8aDSH4sr6E6Y=
